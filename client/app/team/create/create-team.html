<div class="paddedBlock md-inline-form" layout="column" ng-cloak>
	<md-toolbar class="md-whiteframe-z1 form">
		<h4>Nuevo equipo</h4>
	</md-toolbar>
	<md-content class="paddedForm form" layout-padding>
		<div>
			<form name="newTeamForm" ng-submit="ctc.create(newTeamForm)" enctype="multipart/form-data" novalidate>
				<div layout-gt-xs="row">

					<div class="loginForm" layout-gt-sm="column">

						<md-input-container class="md-block" flex-gt-sm>
							<label>Nombre</label>
							<md-icon md-svg-icon="helmet"></md-icon>
							<input type="text" name="name" ng-model="ctc.team.name" required/>
							<div ng-messages="newTeamForm.name.$error">
								<div ng-message="required">Campo obligatorio</div>
								<div ng-message="mongoose">{{ ctc.errors.name }}</div>
							</div>
						</md-input-container>

						<md-input-container class="md-block no-icon" flex-gt-sm>
							<label>Categor√≠a</label>
							<md-select name="categories" md-container-class="select-padding" ng-model="ctc.categoriesSelected" required multiple>
						 			<md-option ng-value="categorie.name" ng-repeat="categorie in ctc.allCategories">{{categorie.name}}</md-option>
							</md-select>
							<div ng-messages="newTeamForm.categories.$error">
								<div ng-message="required">Campo obligatorio</div>
								<div ng-message="mongoose">{{ ctc.errors.categorie }}</div>
							</div>
						</md-input-container>

            <div class="autocomplete-container md-block no icon">
              <md-autocomplete flex required
                md-input-name="club"
                md-selected-item="ctc.clubSelected"
                md-search-text="ctc.searchText"
                md-items="item in ctc.querySearch(ctc.searchText)"
                md-selected-item-change="ctc.selectedItemChange(item)"
                md-item-text="item.name"
                md-min-length="0"
                md-menu-class="autocomplete-custom-template"
                md-floating-label="Club">
                  <md-item-template>
                    <span md-highlight-text="ctc.searchText">{{item.name}}</span>
                  </md-item-template>
                  <div ng-messages="newTeamForm.club.$error">
                    <div ng-message="required">Campo obligatorio</div>
                  </div>
  						</md-autocomplete>
            </div>

						<md-input-container class="md-block no-icon" flex-gt-sm>
              <label>Equipo padre</label>
              <md-select name="parentTeam" md-container-class="select-padding" placeholder="Equipo padre" ng-model="ctc.parentTeam" ng-disabled="!ctc.selectParentTeam">
								<md-option ng-repeat="team in ctc.clubTeams" value="{{team}}">{{team.name}}</md-option>
							</md-select>
						</md-input-container>

						<p class="errorMessage">{{ ctc.errors.other }}</p>

						<section class="submitBtn" layout-phone="column" layout-align="center center">
							<md-button id="buttonRegister" type="submit" class="md-raised md-primary">Crear</md-button>
						</section>
					</div>
				</div>
			</form>
		</div>
	</md-content>
</div>
